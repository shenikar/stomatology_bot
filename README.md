# Stomatology Bot

[![Go](https://img.shields.io/badge/Go-1.24+-00ADD8?style=for-the-badge&logo=go)](https://golang.org/)
[![Docker](https://img.shields.io/badge/Docker-28.4-2496ED?style=for-the-badge&logo=docker)](https://www.docker.com/)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg?style=for-the-badge)](https://opensource.org/licenses/MIT)

Telegram-–±–æ—Ç –¥–ª—è –∑–∞–ø–∏—Å–∏ –Ω–∞ –ø—Ä–∏—ë–º –≤ —Å—Ç–æ–º–∞—Ç–æ–ª–æ–≥–∏—á–µ—Å–∫—É—é –∫–ª–∏–Ω–∏–∫—É. –ë–æ—Ç –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω —Å Google Calendar –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º.

## üöÄ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

-   –ó–∞–ø–∏—Å—å –Ω–∞ –ø—Ä–∏—ë–º –Ω–∞ 30 –¥–Ω–µ–π –≤–ø–µ—Ä—ë–¥.
-   –í—ã–±–æ—Ä –¥–æ—Å—Ç—É–ø–Ω–æ–π –¥–∞—Ç—ã –∏ –≤—Ä–µ–º–µ–Ω–∏.
-   –ó–∞–ø—Ä–æ—Å –∏–º–µ–Ω–∏, —Ñ–∞–º–∏–ª–∏–∏ –∏ –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞.
-   –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞.
-   –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–≤–æ–∏—Ö –∑–∞–ø–∏—Å–µ–π.
-   –û—Ç–º–µ–Ω–∞ –∑–∞–ø–∏—Å–∏.
-   –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –æ –Ω–æ–≤—ã—Ö –∑–∞–ø–∏—Å—è—Ö —Å–æ —Å—Å—ã–ª–∫–æ–π –Ω–∞ —Å–æ–±—ã—Ç–∏–µ –≤ Google Calendar.
-   –†–∞–∑–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞: –∫–ª–∏–µ–Ω—Ç—ã –Ω–µ –≤–∏–¥—è—Ç —Å—Å—ã–ª–∫–∏ –Ω–∞ —Å–æ–±—ã—Ç–∏—è.

## üõ†Ô∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Docker –∏ Docker Compose –¥–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è.

1.  **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:**
    ```bash
    git clone https://github.com/shenikar/stomatology_bot.git
    cd stomatology_bot
    ```

2.  **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ Google Calendar API:**
    –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –≤ —Ä–∞–∑–¥–µ–ª–µ [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Google Calendar API](#-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-google-calendar-api), —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å —Ñ–∞–π–ª `credentials.json` –∏ ID –∫–∞–ª–µ–Ω–¥–∞—Ä—è. –ü–æ–º–µ—Å—Ç–∏—Ç–µ `credentials.json` –≤ –∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞.

3.  **–°–æ–∑–¥–∞–π—Ç–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `.env`:**
    –°–∫–æ–ø–∏—Ä—É–π—Ç–µ `.env.example` –≤ –Ω–æ–≤—ã–π —Ñ–∞–π–ª —Å –∏–º–µ–Ω–µ–º `.env`:
    ```bash
    cp .env.example .env
    ```
    –ó–∞—Ç–µ–º –æ—Ç–∫—Ä–æ–π—Ç–µ `.env` –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è (—Å–µ–∫—Ä–µ—Ç–Ω—ã–µ –∫–ª—é—á–∏ –∏ ID).

4.  **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç:**
    ```bash
    docker-compose up --build
    ```
    –ë–æ—Ç –±—É–¥–µ—Ç –∑–∞–ø—É—â–µ–Ω, –∞ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö PostgreSQL —Ä–∞–∑–≤—ë—Ä–Ω—É—Ç–∞ –≤ Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ. –ú–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω—è—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ.

---

## üóìÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Google Calendar API

–î–ª—è —Ä–∞–±–æ—Ç—ã —Å Google Calendar –±–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **—Å–µ—Ä–≤–∏—Å–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç**. –≠—Ç–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π —Ç–∏–ø –∞–∫–∫–∞—É–Ω—Ç–∞ Google, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é, –∞ –Ω–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.

### –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ –≤ Google Cloud Console

1.  –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ [Google Cloud Console](https://console.cloud.google.com/).
2.  –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç (–∏–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π).

### –®–∞–≥ 2: –í–∫–ª—é—á–µ–Ω–∏–µ Google Calendar API

1.  –í –º–µ–Ω—é –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –≤—ã–±–µ—Ä–∏—Ç–µ **APIs & Services > Library**.
2.  –ù–∞–π–¥–∏—Ç–µ **Google Calendar API** –∏ –≤–∫–ª—é—á–∏—Ç–µ (Enable) –µ–≥–æ –¥–ª—è –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞.

### –®–∞–≥ 3: –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞

1.  –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **APIs & Services > Credentials**.
2.  –ù–∞–∂–º–∏—Ç–µ **Create Credentials** –∏ –≤—ã–±–µ—Ä–∏—Ç–µ **Service account**.
3.  –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∏–º—è —Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `stomatology-bot-account`) –∏ –Ω–∞–∂–º–∏—Ç–µ **Create and Continue**.
4.  –ù–∞ —à–∞–≥–µ **Grant this service account access to project** –º–æ–∂–Ω–æ –Ω–∏—á–µ–≥–æ –Ω–µ –≤—ã–±–∏—Ä–∞—Ç—å –∏ –Ω–∞–∂–∞—Ç—å **Continue**.
5.  –ù–∞ —à–∞–≥–µ **Grant users access to this service account** —Ç–æ–∂–µ –º–æ–∂–Ω–æ –Ω–∏—á–µ–≥–æ –Ω–µ –≤—ã–±–∏—Ä–∞—Ç—å –∏ –Ω–∞–∂–∞—Ç—å **Done**.

### –®–∞–≥ 4: –ü–æ–ª—É—á–µ–Ω–∏–µ —Ñ–∞–π–ª–∞ `credentials.json`

1.  –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è —Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞ –≤—ã –≤–µ—Ä–Ω—ë—Ç–µ—Å—å –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É **Credentials**.
2.  –ù–∞–π–¥–∏—Ç–µ –≤ —Å–ø–∏—Å–∫–µ –≤–∞—à —Å–µ—Ä–≤–∏—Å–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç –∏ –Ω–∞–∂–º–∏—Ç–µ –Ω–∞ –Ω–µ–≥–æ.
3.  –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **Keys**.
4.  –ù–∞–∂–º–∏—Ç–µ **Add Key > Create new key**.
5.  –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –∫–ª—é—á–∞ **JSON** –∏ –Ω–∞–∂–º–∏—Ç–µ **Create**.
6.  –§–∞–π–ª —Å –∫–ª—é—á–∞–º–∏ –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫–∞—á–∞–Ω. **–ü–µ—Ä–µ–∏–º–µ–Ω—É–π—Ç–µ –µ–≥–æ –≤ `credentials.json`** –∏ –ø–æ–º–µ—Å—Ç–∏—Ç–µ –≤ –∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞.

    > ‚ö†Ô∏è **–í–Ω–∏–º–∞–Ω–∏–µ!** –≠—Ç–æ—Ç —Ñ–∞–π–ª —Å–æ–¥–µ—Ä–∂–∏—Ç –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –∫–ª—é—á–∏. –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –¥–æ–±–∞–≤–ª—è–π—Ç–µ –µ–≥–æ –≤ —Å–∏—Å—Ç–µ–º—É –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–µ—Ä—Å–∏–π (–æ–Ω —É–∂–µ –¥–æ–±–∞–≤–ª–µ–Ω –≤ `.gitignore`).

### –®–∞–≥ 5: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –∫–∞–ª–µ–Ω–¥–∞—Ä—é

1.  –û—Ç–∫—Ä–æ–π—Ç–µ [Google Calendar](https://calendar.google.com/).
2.  –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –∫–∞–ª–µ–Ω–¥–∞—Ä—å –¥–ª—è –∑–∞–ø–∏—Å–µ–π (–∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π).
3.  –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –∫–∞–ª–µ–Ω–¥–∞—Ä—è (`Settings and sharing`) –Ω–∞–π–¥–∏—Ç–µ —Ä–∞–∑–¥–µ–ª **Share with specific people or groups**.
4.  –ù–∞–∂–º–∏—Ç–µ **Add people and groups** –∏ –≤—Å—Ç–∞–≤—å—Ç–µ `client_email` –∏–∑ –≤–∞—à–µ–≥–æ `credentials.json` (—ç—Ç–æ email –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞).
5.  –í –≤—ã–ø–∞–¥–∞—é—â–µ–º —Å–ø–∏—Å–∫–µ **Permissions** –≤—ã–±–µ—Ä–∏—Ç–µ **Make changes to events**.
6.  –°–∫–æ–ø–∏—Ä—É–π—Ç–µ **Calendar ID** –∏–∑ —Ä–∞–∑–¥–µ–ª–∞ **Integrate calendar**. –û–Ω –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –¥–ª—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `CALENDAR_ID` –≤ `.env`.

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

-   `cmd/bot/main.go`: –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.
-   `configs/`: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
-   `internal/`: –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –ª–æ–≥–∏–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞, –Ω–µ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω–∞—è –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞ –∏–∑–≤–Ω–µ.
    -   `booking/`: –õ–æ–≥–∏–∫–∞, —Å–≤—è–∑–∞–Ω–Ω–∞—è —Å –∑–∞–ø–∏—Å—è–º–∏ (–º–æ–¥–µ–ª—å, —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π).
    -   `logger/`: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–≥–µ—Ä–∞.
    -   `platform/`: –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏.
        -   `calendar/`: –ö–ª–∏–µ–Ω—Ç –¥–ª—è Google Calendar.
        -   `database/`: –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î.
        -   `telegram/`: –õ–æ–≥–∏–∫–∞ Telegram-–±–æ—Ç–∞.
-   `migrations/`: –ú–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.
-   `Dockerfile`: –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è —Å–±–æ—Ä–∫–∏ Docker-–æ–±—Ä–∞–∑–∞.
-   `docker-compose.yml`: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ —Å –ø–æ–º–æ—â—å—é Docker Compose.

---

## üìú –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π MIT. –ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ —Å–º–æ—Ç—Ä–∏—Ç–µ –≤ —Ñ–∞–π–ª–µ [LICENSE](LICENSE).
