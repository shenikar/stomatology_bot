# Stomatology Bot

Этот проект представляет собой Telegram-бота для записи клиентов в стоматологическую клинику. Бот реализован на языке Go с использованием библиотеки [sqlx](https://github.com/jmoiron/sqlx) для работы с базой данных.

## Функциональность

- Запись клиентов на приём.
- Управление расписанием клиники.
- Уведомления о запланированных визитах.
- Управление списком клиентов и их записями.

## Стек технологий

- **Язык программирования**: Go
- **База данных**: PostgreSQL
- **Библиотеки**:
  - [sqlx](https://github.com/jmoiron/sqlx) для работы с базой данных
  - [telegram-bot-api](https://github.com/go-telegram-bot-api/telegram-bot-api) для интеграции с Telegram

## Установка

1. Склонируйте репозиторий:

   ```bash
   git clone https://github.com/shenikar/stomatology_bot.git
   cd stomatology_bot
   ```

2. Установите зависимости:

   ```bash
   go mod tidy
   ```

3. Настройте переменные окружения. Создайте файл `.env` в корне проекта и заполните его следующими параметрами:

   ```env
   TELEGRAM_TOKEN=<ваш_токен_бота>
   DATABASE_URL=<url_вашей_базы_данных>
   ```

4. Запустите миграции для базы данных:

   ```bash
   go run migrations/main.go
   ```

5. Запустите бота:

   ```bash
   go run main.go
   ```

## Архитектура

Проект организован с использованием принципа инъекции зависимостей для упрощения тестирования и поддержки кода. Основные компоненты:

- **main.go**: точка входа в приложение.
- **app/app.go**: настройка и запуск основных компонентов приложения.
- **repository**: слой для работы с базой данных.
- **handlers**: обработчики команд Telegram.

## Как использовать

1. Найдите бота в Telegram и начните с ним диалог, отправив команду `/start`.
2. Используйте команды бота для записи на приём, просмотра расписания и управления записями.

## Разработка

Для локального тестирования и разработки:

1. Установите PostgreSQL и создайте базу данных.
2. Настройте переменные окружения, указав `DATABASE_URL` на локальную базу данных.
3. Запустите проект в режиме разработки:

   ```bash
   go run main.go
   ```

## Лицензия

Этот проект распространяется под лицензией MIT. См. файл [LICENSE](LICENSE) для получения дополнительной информации.

---

Если у вас есть вопросы или предложения, пожалуйста, создайте issue в этом репозитории или напишите мне в Telegram.
